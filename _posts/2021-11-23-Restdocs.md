---
title: 'Rest docs'
excerpt: 'with Kotlin & Spring boot'
toc: true
toc_sticky: true
header:
    teaser: /assets/image/restdocs.png
categories:
    - Rest docs
tags:
    - Restdocs
    - Kotlin
    - Spring boot
    - custom
    - documentation
    - asciidoc
    - asciidoctor
    - docinfo
last_modified_at: 2021-11-26
---

## í˜ë“¤ì—ˆë‹¤.
ì €ëŠ” ìš”ì¦˜ kotlinê³¼ spring bootë¥¼ ì´ìš©í•œ ì„œë²„ ê°œë°œì„ í•˜ê³  ìˆìŠµë‹ˆë‹¤.
ë¨¼ì € ê°œë°œí•˜ê³  ê³„ì‹œë˜ ë¶„ì´ Rest docsë¥¼ ì´ìš©í•œ API ë¬¸ì„œ ìë™í™”ê°€ í•„ìš”í•˜ë‹¤ ë§ì”€í•˜ì…”ì„œ ì‘ì—…ì„ ì‹œì‘í–ˆìŠµë‹ˆë‹¤.
ìš°ì„ , ì–´ì°Œ ì €ì°Œ ì–¼ë ˆ ë²Œë ˆ í•˜ê¸´ í–ˆëŠ”ë°.. ì¤‘ê°„ ê³¼ì •ì´ ê¹”ë”í•˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.
ì¼ë‹¨ ë ˆí¼ëŸ°ìŠ¤ê°€ ì ì–´ì„œ ì‚½ì§ˆì„ ë§ì´ í–ˆìŠµë‹ˆë‹¤.
ì¼ë¶€ ì»¤ìŠ¤í„°ë§ˆì´ì§• ì‘ì—…ì´ í•„ìš”í•œ ë¶€ë¶„ì—ì„œëŠ” ê²¨ìš° ì°¾ì€ ë ˆí¼ëŸ°ìŠ¤ì—ì„œë„ ì„¤ëª…ì´ ëˆ„ë½ëœ ë¶€ë¶„ì´ ë§ì•˜ìŠµë‹ˆë‹¤.
ì½”í‹€ë¦°ì„ ì“°ëŠëƒ, ìë°”ë¥¼ ì“°ëŠëƒì— ë”°ë¼ ë‹¬ë¼ì§€ëŠ” ì„¤ëª…ë„ ëŒ€ë¶€ë¶„ ì•”ë¬µì ìœ¼ë¡œ ìë°”ë¥¼ ì“´ë‹¤ê³  ì „ì œë¥¼ ê¹”ë”êµ°ìš”(ã…‚ã„·ã…‚ã„·).
ì´ëŸ° ì ë“¤ì´ ìƒë‹¹íˆ ì•„ì‰¬ì› ê¸°ì— ë‚˜ í•˜ë‚˜ë¡œ ëë‚¬ìœ¼ë©´ ì¢‹ê² ë‹¤ëŠ” ë§ˆìŒìœ¼ë¡œ ì°¨ê·¼ ì°¨ê·¼ ì½”í‹€ë¦° ê¸°ë°˜ìœ¼ë¡œ ì •ë¦¬í•´ë³´ë ¤ê³  í•©ë‹ˆë‹¤.

## Rest docs 
Rest docsë€ Springìœ¼ë¡œ ê°œë°œí•œ REST APIë¥¼ ìë™ìœ¼ë¡œ ë¬¸ì„œí™” í•´ì£¼ëŠ” ë„êµ¬ì…ë‹ˆë‹¤.
ì‚¬ìš©í•´ë³¸ ì ì€ ì—†ì§€ë§Œ Swaggerë¼ëŠ” ìœ ëª…í•œ ë¬¸ì„œí™” ìë™ íˆ´ë„ ì¡´ì¬í•˜ëŠ”ë° ì‹¤ì œ ìš´ì˜ì½”ë“œì— ë¬¸ì„œí™”ë¥¼ ìœ„í•œ ì½”ë“œë‚˜ ì–´ë…¸í…Œì´ì…˜ì„ ì‘ì„±í•´ì•¼ API ë¬¸ì„œë¥¼ ìƒì„±í•´ì£¼ëŠ” ê±¸ë¡œ ì•Œê³  ìˆìŠµë‹ˆë‹¤.
ë°˜ëŒ€ë¡œ, Rest docsëŠ” í…ŒìŠ¤íŠ¸ ì½”ë“œì—ì„œ ì‹œì‘í•©ë‹ˆë‹¤. ì‹¬ì§€ì–´ í…ŒìŠ¤íŠ¸ ì½”ë“œê°€ ì„±ê³µí•´ì•¼ ë¬¸ì„œë¡œ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
ê°œì¸ì ìœ¼ë¡  ì‹¤ì œ ìš´ì˜ ì½”ë“œì— ì‘ì—…í•˜ì§€ ì•Šì•„ë„ ëœë‹¤ëŠ” ì ê³¼ í…ŒìŠ¤íŠ¸ë¥¼ í†µê³¼í•´ì•¼ë§Œ ë¬¸ì„œë¡œ ë§Œë“¤ì–´ ì¤€ë‹¤ëŠ” ì ì´ ìœ ì§€ë³´ìˆ˜ì„±, ì‹¬ë¦¬ì  ì•ˆì •ê° ì¸¡ë©´ì—ì„œ ë” ë‚˜ì•„ ë³´ì…ë‹ˆë‹¤.

## ascii doc
Rest docsëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ascii docì„ ê¸°ë°˜ìœ¼ë¡œ ë§Œë“¤ì–´ì§‘ë‹ˆë‹¤.
markdownê³¼ ì—°ë™í•  ìˆ˜ ìˆë‹¤ê³  í•˜ëŠ”ë°, ì´ ê³¼ì • ìì²´ê°€ ë³„ë¡œ ìˆœíƒ„í•´ ë³´ì´ì§€ ì•Šê³  ê³µì‹ë¬¸ì„œì™€ ëŒ€ë¶€ë¶„ì˜ ë ˆí¼ëŸ°ìŠ¤ë“¤ì´ ascii doc ê¸°ë°˜ìœ¼ë¡œ ì„¤ëª…í•˜ê³  ìˆê¸°ì— ê°€ê¸‰ì ì´ë©´ ë””í´íŠ¸ë¡œ ì‚¬ìš©í•˜ëŠ” ê²ƒì„ ì¶”ì²œí•©ë‹ˆë‹¤.
ì‹¤ì œë¡œ markdownì„ ì˜ ì“°ì‹œëŠ” ë¶„ì´ë¼ë©´ ascii docë„ ì œë²• ë¹ ë¥´ê²Œ ìŠµë“í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.(ì €ë„ í–ˆìœ¼ë‹ˆê¹Œìš”)

## build.gradle.kts ê¸°ì´ˆ ì‘ì—…
Rest docsë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„  ê¸°ì´ˆ ì‘ì—…ë“¤ì´ ì„ í–‰ë¼ì•¼ í•©ë‹ˆë‹¤.
ìš°ì„  build.gradle.ktsë¥¼ ìˆ˜ì •í•©ë‹ˆë‹¤. ì•„, ê·¸ë¦¬ê³  í•´ë‹¹ í¬ìŠ¤íŒ…ì—ì„  mockmvcë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.
```javascript
plugins {
    . . . 
    
    id("org.asciidoctor.jvm.convert") version "3.3.2" // (1)
    
    . . .
}

dependencies {
    . . . 
    
    testImplementation("org.springframework.restdocs:spring-restdocs-mockmvc:2.0.5.RELEASE") // (2)
    
    . . .
}

val snippetsDir = file("build/generated-snippets") // (3)

tasks.withType<Test> {
    useJUnitPlatform()
    outputs.dir(snippetsDir)
}  // (4)

tasks.asciidoctor {
    inputs.dir(snippetsDir)
    dependsOn(tasks.test)
}  // (5)

tasks.register("copyHTML", Copy::class) {
    dependsOn(tasks.findByName("asciidoctor"))
    from(file("build/docs/asciidoc"))
    into(file("src/main/resources/static/docs"))
}  // (6)

tasks.bootJar {
    dependsOn(tasks.asciidoctor)
    dependsOn(tasks.getByName("copyHTML"))
}  // (7)

tasks.build {
    dependsOn(tasks.asciidoctor)
}  // (8)
```
> (1) í…ŒìŠ¤íŠ¸ ì„±ê³µì‹œ ìƒì„±ë˜ëŠ” {file-name}.adoc ë“¤ì„ ì·¨í•©í•´ htmlë¡œ ë³€í™˜í•´ì£¼ëŠ” í”ŒëŸ¬ê·¸ì¸ì…ë‹ˆë‹¤. ë“±ë¡í•´ì£¼ì„¸ìš”.
>
> * gradle version 7 ë¶€í„´ org.asciidoctor.jvm.convertë¥¼ ì‚¬ìš©í•˜ë©° ê·¸ ì•„ë˜ ë²„ì „ì€ org.asciidoctor.convertë¥¼ ì”ë‹ˆë‹¤.

> (2) í•´ë‹¹ í¬ìŠ¤íŠ¸ì—ì„œëŠ” MockMVCë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤. MockMVCì™€ Rest docsê°€ ì—°ë™ë˜ë„ë¡ ì¶”ê°€í•´ì¤ë‹ˆë‹¤.

> (3) {file-name}.adoc íŒŒì¼ë“¤ì´ ìƒì„±ë  snippet ê²½ë¡œë¥¼ ì§€ì •í•©ë‹ˆë‹¤. 

> (4) Testë¥¼ ì‹¤í–‰í•  ë•Œ {file-name}.adocë“¤ì„ ìŠ¤ë‹ˆí« ê²½ë¡œì— ìƒì„±í•˜ê²Œë” ì§€ì •í•©ë‹ˆë‹¤.

> (5) asciidoctorê°€ adocíŒŒì¼ì„ ì–´ëŠ ê²½ë¡œì— ìƒì„±í• ì§€ ì§€ì •í•©ë‹ˆë‹¤. 

> (6) ì›¹ì—ì„œ APIë¬¸ì„œë¥¼ ì¡°íšŒí•  ìˆ˜ ìˆë„ë¡ ë¹Œë“œê°€ ëë‚˜ë©´ ìƒì„±ëœ html íŒŒì¼ë“¤ì„ src/main/resources/static/docsì— ë³µì‚¬í•©ë‹ˆë‹¤.
> ( {file-name}.adoc íŒŒì¼ë“¤ì´ ì·¨í•©ë˜ë©´ build/docs/asciidoc ê²½ë¡œì— html íŒŒì¼ ìƒì„±)

> (7) ì‹¤í–‰ ê°€ëŠ¥í•œ jarë¥¼ ë¹Œë“œí•  ë•Œ asciidoctorì™€ copyHTML taskë¥¼ ê°™ì´ ì‹¤í–‰í•˜ë„ë¡ ì¶”ê°€í•´ì¤ë‹ˆë‹¤. 

> (8) ë¹Œë“œí•  ë•Œ asciidoctor taskê°€ ì‹¤í–‰ë˜ë„ë¡ ì¶”ê°€í•´ì¤ë‹ˆë‹¤.

## í…ŒìŠ¤íŠ¸ ì‘ì„± 
ì•ì„œ ë§í–ˆì§€ë§Œ Rest docsëŠ” í…ŒìŠ¤íŠ¸ë¥¼ ì„±ê³µí•´ì•¼ë§Œ í•´ë‹¹ APIì˜ íŒŒí¸ {file-name}.adoc íŒŒì¼ë“¤ì„ ìƒì„±í•´ì¤ë‹ˆë‹¤. 
ë¹ ë¥´ê²Œ í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì„±í•´ë´…ë‹ˆë‹¤.
```
import org.springframework.restdocs.headers.HeaderDocumentation.headerWithName
import org.springframework.restdocs.headers.HeaderDocumentation.requestHeaders
import org.springframework.restdocs.mockmvc.MockMvcRestDocumentation.document
import org.springframework.restdocs.operation.preprocess.Preprocessors.modifyUris
import org.springframework.restdocs.operation.preprocess.Preprocessors.preprocessRequest
import org.springframework.restdocs.payload.PayloadDocumentation.fieldWithPath
import org.springframework.restdocs.payload.PayloadDocumentation.responseFields
import org.springframework.restdocs.request.RequestDocumentation.parameterWithName
import org.springframework.restdocs.request.RequestDocumentation.requestParameters

@AutoConfigureRestDocs(uriScheme = "https", uriHost = "api-jay.com") // (1)
@Import(RestDocsConfiguration::class) // (2)
class UserControllerTest {
    @Test
    fun login() {
        mockMvc.perform( // (3)
            MockMvcRequestBuilders.post("/login")
                .contentType(MediaType.APPLICATION_FORM_URLENCODED)
                .param("email", user.email)
                .param("password", user.password!!)
        )
            .andExpect(MockMvcResultMatchers.status().isOk)
            .andExpect(MockMvcResultMatchers.jsonPath("$.name").value("jay@joogle.lang"))
            .andExpect(MockMvcResultMatchers.jsonPath("$.email").value("blablabla"))
            .andDo(
                document(  // (4)
                    "login", // (5)
                    preprocessRequest(
                        Preprocessors.modifyUris()
                            .removePort()  // (6)
                    ),
                    requestHeaders(  // (7)
                        headerWithName("Content-Type").description("Content-Type")
                    ),
                    requestParameters(  // (8)
                        parameterWithName("password").description("ë¹„ë°€ë²ˆí˜¸"),
                        parameterWithName("email").description("ìœ ì € ì´ë©”ì¼"),
                    ),
                    responseFields(  // (9)
                        fieldWithPath("name").type(JsonFieldType.STRING).description("ìœ ì € ì´ë¦„"),
                        fieldWithPath("email").type(JsonFieldType.STRING).description("ìœ ì € ì´ë©”ì¼"),
                    )
                )
            )
            .andDo(MockMvcResultHandlers.print())
    }
}
```


> (1) ì¶”í›„ì— í™•ì¸ ê°€ëŠ¥í•˜ì§€ë§Œ, adoc íŒŒì¼ë“¤ì´ ìƒì„±ë  ë•Œ urlê³¼ schemeë¥¼ í¬í•¨í•´ ìƒì„±ë©ë‹ˆë‹¤. 
> ê°ê° ë””í´íŠ¸ëŠ” localhost, http ì¸ë° ì¶”í›„ í´ë¼ì´ì–¸íŠ¸ ê°œë°œìê°€ ì‹¤ì œë¡œ í˜¸ì¶œí•´ì•¼í•  urlê³¼ schemeë¥¼ ì§€ì •í•´ì¤ë‹ˆë‹¤.

> (2) RestDocsConfigurationë¥¼ Import í•´ì¤ë‹ˆë‹¤.

> (3) ë‹¹ì—°íˆ mockMvc.post(), mockMvc.get() ë“±ë“±ì—ì„œë„ document()ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆì„ ì¤„ ì•Œì•˜ëŠ”ë°.. ì•ˆë©ë‹ˆë‹¤.
> ë²ˆê±°ë¡­ì§€ë§Œ mockMvc.perform()ë¥¼ ì‚¬ìš©í•´ì£¼ë„ë¡ í•©ë‹ˆë‹¤.

> (4) **ì—¬ê¸°ì„œë¶€í„° ì‹¤ì§ˆì ì¸ Rest docsì˜ ì‹œì‘ì´ë¼ê³  í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤!!**
> ì‹¤ì œë¡œ adoc íŒŒì¼ë“¤ì„ ì–´ë–»ê²Œ ë§Œë“¤ê²ƒì¸ì§€ì— ëŒ€í•´ ì‘ì„±í•˜ëŠ” ë¶€ë¶„ì´ë¼ê³  ë³´ë©´ ë©ë‹ˆë‹¤.

> (5) api-nameì„ ì‘ì„±í•©ë‹ˆë‹¤. ì¶”ê°€ë¡œ.. ìë™ìœ¼ë¡œ ìƒì„±í•´ì£¼ë©´ ì¢‹ê² ì§€ë§Œ {api-name}.adoc íŒŒì¼ì„ ìˆ˜ë™ìœ¼ë¡œ ìƒì„±í•´ì¤˜ì•¼í•©ë‹ˆë‹¤.
> ê·€ì°®ì§€ë§Œ src/docs/asciidoc ë””ë ‰í† ë¦¬ë¥¼ ìƒì„±í•´ì£¼ê³  {api-name}.adoc íŒŒì¼ì„ ìƒì„±í•´ì£¼ë„ë¡ í•©ë‹ˆë‹¤. 

> (6) (1)ì—ì„œ ì„¤ëª…í•œë°ë¡œ, ì¶”í›„ ë¬¸ì„œì—ëŠ” urlê³¼ schemeê°€ í¬í•¨ë˜ëŠ”ë° portë„ ê°™ì´ ë¬¸ì„œë¡œ ì‘ì„±ë©ë‹ˆë‹¤. 
> ë”°ë¡œ ë„ë©”ì¸ì´ ìˆë‹¤ë©´ portë¥¼ ë¬¸ì„œì—ì„œ ì œê±°í•˜ê¸° ìœ„í•´ Preprocessors.modifyUris().removePort()ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.
> ê·¸ ì™¸ì—” (1)ì—ì„œ portë¥¼ ë”°ë¡œ ì§€ì •í•´ì£¼ë©´ ë©ë‹ˆë‹¤. 

> (7) API ë¬¸ì„œì— ì‘ì„±ë  header ê´€ë ¨ ì •ë³´ë¥¼ ì‘ì„±í•©ë‹ˆë‹¤.

> (8) API ë¬¸ì„œì— ì‘ì„±ë  requestParameterë¥¼ ì‘ì„±í•©ë‹ˆë‹¤.
> ì˜ˆì œì—” ì—†ì§€ë§Œ pathParameters()ë¥¼ ì‚¬ìš©í•´ path paramsë„ ë¬¸ì„œì— ì‘ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
> get, postìš”ì²­ì— ë§ì¶° ì ì ˆí•˜ê²Œ ë¬¸ì„œë¡œ ìƒì„±ë©ë‹ˆë‹¤.

> (9) API ë¬¸ì„œì— ì‘ì„±ë  responseFieldë¥¼ ì‘ì„±í•©ë‹ˆë‹¤. 
> optional()ë“±ì˜ í•¨ìˆ˜ ì²´ì´ë‹ì„ í†µí•´ í•„ìˆ˜ìœ ë¬´ë„ ì‘ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.


## src/docs/asciidoc/{api-name}.adoc í…œí”Œë¦¿ ì‘ì„±
ìœ„ì™€ ê°™ì´ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‘ì„± í•˜ê³  src/docs/asciidoc ê²½ë¡œì— login.adoc íŒŒì¼ê¹Œì§€ ë§Œë“¤ì–´ì¤¬ë‹¤ë©´ templateì„ ë§Œë“¤ì–´ì•¼ í•©ë‹ˆë‹¤.
ì €ëŠ” ì•„ë˜ì™€ ê°™ì´ ì‘ì„±í–ˆìŠµë‹ˆë‹¤.

```
ifndef::snippets[]
:snippets: build/generated-snippets
endif::[]
= {docname} API Document
:doctype: book
:icons: font
:source-highlighter: highlightjs
:toc: left
:toclevels: 4
:sectlinks:

//NOTE: ""

//TIP: ""

//IMPORTANT: ""

//CAUTION: ""

//WARNING: ""

== Request
=== Curl-Reqeust
include::{snippets}/{docname}/curl-request.adoc[]
=== Http-Reqeust
include::{snippets}/{docname}/http-request.adoc[]
=== Request-Headers
include::{snippets}/{docname}/request-headers.adoc[]
=== Request-Body
include::{snippets}/{docname}/request-body.adoc[]
=== Request-Parameters
include::{snippets}/{docname}/request-parameters.adoc[]
== Response
=== Http-Response
include::{snippets}/{docname}/http-response.adoc[]
=== Response-Body
include::{snippets}/{docname}/response-body.adoc[]
=== Response-Fields
include::{snippets}/{docname}/response-fields.adoc[]
```

asciidoc ë¬¸ë²•ì— ëŒ€í•´ì„œëŠ” ë§í¬ì •ë„ë§Œ ë‚¨ê²¨ë†“ê³  ìì„¸í•œ ì„¤ëª…ì€ í•˜ì§€ ì•Šê² ìŠµë‹ˆë‹¤.
snippetsë¼ëŠ” ë³€ìˆ˜ì— snippet ê²½ë¡œë¥¼ ì§€ì •í•´ì¤€ ê²ƒ, include::ë¥¼ ì‚¬ìš©í•´ {file-name}.adoc íŒŒí¸ë“¤ì„ í•œ ë•€ í•œ ë•€ ì¶”ê°€í–ˆë‹¤~ 
ì •ë„ë§Œ ì´í•´í•˜ì‹œê³  APIë¬¸ì„œ í•˜ë‚˜ê°€ ëŒ€ëµì ìœ¼ë¡œ ì´ í…œí”Œë¦¿ í•˜ë‚˜ë¥¼ ê³µìœ í•´ì„œ ì‚¬ìš©í•˜ê²Œ ëœë‹¤ ì •ë„ë¡œë§Œ ë´ì£¼ì‹œë©´ ë©ë‹ˆë‹¤.
ì°¸ê³ ë¡œ, curl-request.adoc, http-request.adoc, request-body.adoc, http-response.adoc ë“±ì˜ .adoc íŒŒì¼ë“¤ì€ í…ŒìŠ¤íŠ¸ ì„±ê³µì‹œ build/generated-snippets/{api-name} ê²½ë¡œì— ìë™ ìƒì„±ë˜ëŠ” í•´ë‹¹ APIì˜ íŒŒí¸ íŒŒì¼ë“¤ì…ë‹ˆë‹¤.


## index.adoc íŒŒì¼ 
ì´ë²ˆì—” index.adoc íŒŒì¼ì„ ìƒì„±í•´ë³´ê² ìŠµë‹ˆë‹¤.
ëŒ€ë¶€ë¶„ì˜ Rest docs ê°€ì´ë“œë¥¼ ì‘ì„±í•œ í¬ìŠ¤íŒ…ì—ì„œ index.adoc íŒŒì¼ í•˜ë‚˜ì— ëª¨ë“  APIë¬¸ì„œë¥¼ ë‹¤ ë•Œë ¤ë°•ëŠ”ê²ƒì„ ì˜ˆì œë¡œ ì‘ì„±í•˜ëŠ”ë°.. APIê°€ í•œ ë‘ê°œë©´ ëª¨ë¥¼ê¹Œ, ëŠ˜ì–´ë‚˜ë©´ ëŠ˜ì–´ë‚¬ì§€ ì¤„ì–´ë“¤ì§€ ì•Šì„ê²ƒì„ ê³ ë ¤í–ˆì„ ë•Œ apië³„ë¡œ adocíŒŒì¼ì„ ë”°ë¡œ ê´€ë¦¬í•˜ëŠ”ê²ƒì´ ìœ ì§€ë³´ìˆ˜ë©´ì—ì„œ ì¢‹ê² ë‹¤ê³  ìƒê°ì´ ë“¤ì—ˆìŠµë‹ˆë‹¤.
ì €ëŠ” ê·¸ë˜ì„œ index.adoc íŒŒì¼ì—” ê° {api-name}.adoc íŒŒì¼ì„ linkë§Œ ì¶”ê°€í•´ì£¼ëŠ” ë°©í–¥ìœ¼ë¡œ ì§„í–‰í–ˆìŠµë‹ˆë‹¤.

ìš°ì„  src/docs/asciidoc ê²½ë¡œì— index.adoc íŒŒì¼ì„ ìƒì„±í•˜ê³  ì•„ë˜ì™€ ê°™ì´ ì‘ì„±í–ˆìŠµë‹ˆë‹¤.
```
ifndef::snippets[]
:basedir: {docdir}/../../../
:snippets: build/generated-snippets
:sources-root: {basedir}/src
:resources: {sources-root}/main/resources
:resources-test: {sources-root}/test/resources
:java: {sources-root}/main/java
:java-test: {sources-root}/test/java
endif::[]
= API Document
:doctype: book
:icons: font
:source-highlighter: highlightjs
:toc: left
:toclevels: 5
:sectlinks:

== User API
=== link:login.html[1.Login]
```
ì´ë ‡ê²Œ í–ˆë”ë‹ˆ ì •ë§ ë³´ê¸° ì‹«ì€ íŒŒë€ìƒ‰ í°íŠ¸ì˜ ì–¸ë”ë¼ì¸ê¹Œì§€ ë”í•´ì§„ í•˜ì´í¼ ë§í¬ê°€ ë‚˜íƒ€ë‚˜ë”êµ°ìš”.(ì•„ë˜ ì´ë¯¸ì§€ ì°¸ê³ )
![ì•„ ì •ë§ ë³´ê¸° ì‹«ê²Œ ìƒê²¼ë‹¤.](/assets/image/before_custom_index_adoc.png)
<div style="text-align: center; font: caption; color: #3d4144">ì•„ ì •ë§ ë³´ê¸° ì‹«ê²Œ ìƒê²¼ë‹¤.</div>
<br>
..(ì´ê±´ ëª»ì°¸ì§€).. ë°”ë¡œ ì»¤ìŠ¤í…€ì— ë“¤ì–´ê°€ë³´ë„ë¡ í•©ë‹ˆë‹¤. ë­ ì—„ì²­ë‚œ ì»¤ìŠ¤í„°ë§ˆì´ì§• ì‘ì—…ì„ í• ê±´ ì•„ë‹ˆêµ¬ìš”, ì € í•˜ì´í¼ë§í¬ í…ìŠ¤íŠ¸ë§Œ ì¡°ê¸ˆ ë…¸ë©€í•´ ë³´ì´ë„ë¡ ìˆ˜ì •í•´ë³´ê² ìŠµë‹ˆë‹¤.
ìš°ì„  root ë””ë ‰í† ë¦¬ì— .asciidoctor ë””ë ‰í† ë¦¬ë¥¼ ë§Œë“¤ê³  ê·¸ ì•ˆì— docinfo.html íŒŒì¼ì„ ì¶”ê°€í•´ì¤ë‹ˆë‹¤.
ì´ íŒŒì¼ì€ asciidoctor task ì¤‘ .adoc -> .html ë³€í™˜(convert)ì‘ì—…ì´ ì§„í–‰ë  ë•Œ í•´ë‹¹íŒŒì¼ì„ ì°¸ê³ í•´ ì¶”ê°€ì ìœ¼ë¡œ ì‚¬ìš©ìê°€ ì •ì˜í•´ë†“ì€ html êµ¬ì„±ìš”ì†Œë“¤ì„ ë°˜ì˜í•´ì£¼ëŠ” ë ˆí¼ëŸ°ìŠ¤ íŒŒì¼ì…ë‹ˆë‹¤.
CSSì „ì²´ë¥¼ ì•„ì˜ˆ ë‹¤ì‹œ ë°˜ì˜í•˜ê³  ì‹¶ë‹¤ë©´ í•´ë‹¹ ë””ë ‰í† ë¦¬ì— {css_file_name}.css íŒŒì¼ì„ ìƒì„±í•´ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
ì €ëŠ” docinfo.html íŒŒì¼ì„ ì•„ë˜ì™€ ê°™ì´ ì‘ì„±í–ˆìŠµë‹ˆë‹¤.

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        a:link {
            color: #141517;
            text-decoration: none
        }

        a:hover {
            color: #F82F62;
            text-decoration: underline
        }
    </style>
</head>
<body>

</body>
</html>
```

ê·¸ë¦¬ê³ , index.adoc íŒŒì¼ì„ ì•„ë˜ì™€ ê°™ì´ ìˆ˜ì •í•´ì¤ë‹ˆë‹¤.
```
ifndef::snippets[]
:basedir: {docdir}/../../../
:snippets: build/generated-snippets
:sources-root: {basedir}/src
:resources: {sources-root}/main/resources
:resources-test: {sources-root}/test/resources
:java: {sources-root}/main/java
:java-test: {sources-root}/test/java
endif::[]
= API Document
:doctype: book
:icons: font
:source-highlighter: highlightjs
:toc: left
:toclevels: 5
:sectlinks:
:docinfodir: .asciidoctor       << ì¶”ê°€ (1)
:docinfo: shared                << ì¶”ê°€ (2)

== User API
=== link:login.html[1.Login]
```

> (1) docinfo.html íŒŒì¼ì´ ì¡´ì¬í•˜ëŠ” ë””ë ‰í† ë¦¬ ê²½ë¡œë¥¼ ì§€ì •í•©ë‹ˆë‹¤.

> (2) docinfo.html íŒŒì¼ì„ ì°¸ê³ í•´ html íŒŒì¼ì„ ìƒì„±í• ì§€ ì„ íƒí•©ë‹ˆë‹¤. 
> optionìœ¼ë¡œ sharedë¿ë§Œ ì•„ë‹ˆë¼ private, head, footer ë“±ì„ ì¡°í•©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ì´ì œ, testë¥¼ ë‹¤ì‹œ í•œ ë²ˆ ëŒë¦¬ê³  buildí•œ ë‹¤ìŒì— index.html íŒŒì¼ì„ ì—´ì–´ë³´ë©´!! ì•„ë˜ì™€ ê°™ì´ í•˜ì´í¼ë§í¬ í…ìŠ¤íŠ¸ê°€ ë¹„êµì  ë…¸ë©€í•´ì§„ ëª¨ìŠµì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
![ê·¸ë˜ë„ ì¡°ê¸ˆì€ ë´ì¤„ë§Œ í•˜ì£ ?](/assets/image/after_custom_index_adoc.png)
<div style="text-align: center; font: caption; color: #3d4144">ê·¸ë˜ë„ ì¡°ê¸ˆì€ ë´ì¤„ë§Œ í•˜ì£ ?</div>
<br>
í•´ë‹¹ í¬ìŠ¤íŒ…ì˜ ëª©ì ì´ì—ˆë˜ Restdocs ì»¤ìŠ¤í„°ë§ˆì´ì§• ì‘ì—…ì´ ëë‚¬ìŠµë‹ˆë‹¤.ğŸ˜‚
ì €ëŠ” root ë””ë ‰í† ë¦¬ì— .asciidoctor ë””ë ‰í† ë¦¬ë¥¼ ë§Œë“¤ê³  ê·¸ ì•ˆì— docinfo.htmlì´ë‚˜ .css íŒŒì¼ì„ ë„£ì–´ì•¼ í•œë‹¤ëŠ” ì‚¬ì‹¤ì„ ì•Œê²Œ ë  ë•Œ ê¹Œì§€ ì‚½ì§ˆ ê³¼ì •ì—ì„œ ì‹œê°„ì„ ë§ì´ ì†Œë¹„í–ˆëŠ”ë°.. ì´ ê¸€ì„ ì½ìœ¼ì‹œëŠ” ë¶„ë“¤ì€ ë°”ë¡œ í•´ê²°ëìœ¼ë©´ ì¢‹ê² ìŠµë‹ˆë‹¤.

ì°¸ê³ 
- [asciidoctor ê³µì‹ë¬¸ì„œ](https://docs.asciidoctor.org/asciidoctor/latest/)